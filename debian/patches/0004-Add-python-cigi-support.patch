From: Klee Dienes <klee.dienes@hadronindustries.com>
Date: Sat, 15 Feb 2014 16:23:27 -0500
Subject: Add python cigi support.

---
 CMakeLists.txt           |  4 ++++
 scripting/CMakeLists.txt | 25 +++++++++++++++++++++++++
 2 files changed, 29 insertions(+)
 create mode 100644 scripting/CMakeLists.txt

diff --git a/CMakeLists.txt b/CMakeLists.txt
index f9e4960..7118d89 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -1,3 +1,5 @@
+cmake_minimum_required(VERSION 2.8)
+
 PROJECT(ccl)
 SET(VERSION 3.3.3)
 
@@ -503,3 +505,5 @@ INSTALL(FILES
 IF(CMAKE_COMPILER_IS_GNUCXX)
     INSTALL(FILES ${CMAKE_BINARY_DIR}/cigicl.pc DESTINATION lib/${CMAKE_LIBRARY_ARCHITECTURE}/pkgconfig)
 ENDIF()
+
+ADD_SUBDIRECTORY(scripting)
diff --git a/scripting/CMakeLists.txt b/scripting/CMakeLists.txt
new file mode 100644
index 0000000..7279755
--- /dev/null
+++ b/scripting/CMakeLists.txt
@@ -0,0 +1,25 @@
+cmake_minimum_required(VERSION 2.8)
+
+FIND_PACKAGE(SWIG REQUIRED)
+INCLUDE(${SWIG_USE_FILE})
+
+FIND_PACKAGE(PythonLibs)
+INCLUDE_DIRECTORIES(${PYTHON_INCLUDE_PATH})
+INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})
+
+SET(CMAKE_SWIG_FLAGS "-Wall")
+
+SET_SOURCE_FILES_PROPERTIES(swig.i PROPERTIES CPLUSPLUS ON)
+SET_PROPERTY(SOURCE swig.i PROPERTY SWIG_FLAGS "-builtin" "-DCIGI_SPEC")
+
+SWIG_ADD_MODULE(cigi python swig.i)
+SWIG_LINK_LIBRARIES(cigi ${PYTHON_LIBRARIES} cigicl-shared)
+
+execute_process(COMMAND python -c "from distutils.sysconfig import get_python_lib; print (get_python_lib())" OUTPUT_VARIABLE PYTHON_SITE_PACKAGES OUTPUT_STRIP_TRAILING_WHITESPACE)
+execute_process(COMMAND python3 -c "from distutils.sysconfig import get_python_lib; print (get_python_lib())" OUTPUT_VARIABLE PYTHON3_SITE_PACKAGES OUTPUT_STRIP_TRAILING_WHITESPACE)
+
+install(TARGETS _cigi DESTINATION ${PYTHON_SITE_PACKAGES})
+install(FILES ${CMAKE_BINARY_DIR}/scripting/cigi.py DESTINATION ${PYTHON_SITE_PACKAGES})
+
+install(TARGETS _cigi DESTINATION ${PYTHON3_SITE_PACKAGES})
+install(FILES ${CMAKE_BINARY_DIR}/scripting/cigi.py DESTINATION ${PYTHON3_SITE_PACKAGES})
